--------------------------------------------------------
--  File created - Tuesday-October-22-2024   
--------------------------------------------------------
DROP TABLE "SUPPLYCHAINDB"."CULTIVATION" cascade constraints;
DROP TABLE "SUPPLYCHAINDB"."FARMER" cascade constraints;
DROP TABLE "SUPPLYCHAINDB"."FARMER_SALES" cascade constraints;
DROP TABLE "SUPPLYCHAINDB"."SELLER" cascade constraints;
DROP TABLE "SUPPLYCHAINDB"."SELLER_SALES" cascade constraints;
DROP TABLE "SUPPLYCHAINDB"."TRANSPORTER" cascade constraints;
DROP TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" cascade constraints;
DROP PROCEDURE "SUPPLYCHAINDB"."AVERAGE_PRICE_PER_CULTIVATION";
DROP PROCEDURE "SUPPLYCHAINDB"."AVG_TRANSPORTER_PROFIT_BY_CULTIVATION";
DROP PROCEDURE "SUPPLYCHAINDB"."GET_FARMERS_BY_LOCATION";
DROP PROCEDURE "SUPPLYCHAINDB"."TOP_10_CULTIVATIONS_BY_SALES";
DROP PROCEDURE "SUPPLYCHAINDB"."TOP_10_FARMERS_BY_SALES";
DROP FUNCTION "SUPPLYCHAINDB"."GET_TOTAL_FARMER_SALES";
DROP TRIGGER "SUPPLYCHAINDB"."TRG_BEFORE_INSERT_FARMER";

--------------------------------------------------------
--  DDL for Table CULTIVATION
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."CULTIVATION" 
   (	"CULTIVATION_ID" NUMBER, 
	"CULTIVATION_NAME" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FARMER
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."FARMER" 
   (	"FARMER_ID" NUMBER, 
	"FIRST_NAME" VARCHAR2(50 BYTE), 
	"LAST_NAME" VARCHAR2(50 BYTE), 
	"LOCATION" VARCHAR2(100 BYTE), 
	"CULTIVATION_ID" NUMBER, 
	"TELEPHONE" VARCHAR2(15 BYTE), 
	"EMAIL" VARCHAR2(100 BYTE), 
	"GOV_REG_NO" VARCHAR2(50 BYTE), 
	"DATE_JOINED" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FARMER_SALES
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."FARMER_SALES" 
   (	"FARMER_SALES_ID" NUMBER, 
	"FARMER_ID" NUMBER, 
	"BUYER_ID" NUMBER, 
	"BUYER_TYPE" VARCHAR2(50 BYTE), 
	"CULTIVATION_ID" NUMBER, 
	"UNIT_PRICE_PER_KG" NUMBER(10,2), 
	"WEIGHT_KG" NUMBER(10,2), 
	"TOTAL_PRICE" NUMBER(10,2) GENERATED ALWAYS AS ("UNIT_PRICE_PER_KG"*"WEIGHT_KG") VIRTUAL , 
	"SALE_DATE" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT DELETE ON "SUPPLYCHAINDB"."FARMER_SALES" TO "FARMER_ROLE";
  GRANT INSERT ON "SUPPLYCHAINDB"."FARMER_SALES" TO "FARMER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."FARMER_SALES" TO "FARMER_ROLE";
  GRANT UPDATE ON "SUPPLYCHAINDB"."FARMER_SALES" TO "FARMER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."FARMER_SALES" TO "TRANSPORTER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."FARMER_SALES" TO "SELLER_ROLE";
--------------------------------------------------------
--  DDL for Table SELLER
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."SELLER" 
   (	"SELLER_ID" NUMBER, 
	"SHOP_NAME" VARCHAR2(100 BYTE), 
	"FIRST_NAME" VARCHAR2(50 BYTE), 
	"LAST_NAME" VARCHAR2(50 BYTE), 
	"LOCATION" VARCHAR2(100 BYTE), 
	"TELEPHONE" VARCHAR2(15 BYTE), 
	"EMAIL" VARCHAR2(100 BYTE), 
	"DATE_REGISTERED" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SELLER_SALES
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."SELLER_SALES" 
   (	"SELLER_SALES_ID" NUMBER, 
	"SELLER_ID" NUMBER, 
	"CULTIVATION_ID" NUMBER, 
	"UNIT_PRICE_PER_KG" NUMBER(10,2), 
	"WEIGHT_KG" NUMBER(10,2), 
	"TOTAL_PRICE" NUMBER(10,2) GENERATED ALWAYS AS ("UNIT_PRICE_PER_KG"*"WEIGHT_KG") VIRTUAL , 
	"SALE_DATE" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT SELECT ON "SUPPLYCHAINDB"."SELLER_SALES" TO "FARMER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."SELLER_SALES" TO "TRANSPORTER_ROLE";
  GRANT DELETE ON "SUPPLYCHAINDB"."SELLER_SALES" TO "SELLER_ROLE";
  GRANT INSERT ON "SUPPLYCHAINDB"."SELLER_SALES" TO "SELLER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."SELLER_SALES" TO "SELLER_ROLE";
  GRANT UPDATE ON "SUPPLYCHAINDB"."SELLER_SALES" TO "SELLER_ROLE";
--------------------------------------------------------
--  DDL for Table TRANSPORTER
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."TRANSPORTER" 
   (	"TRANSPORTER_ID" NUMBER, 
	"FIRST_NAME" VARCHAR2(50 BYTE), 
	"LAST_NAME" VARCHAR2(50 BYTE), 
	"VEHICLE_NO" VARCHAR2(20 BYTE), 
	"TELEPHONE" VARCHAR2(15 BYTE), 
	"LICENSE_NO" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TRANSPORTER_SALES
--------------------------------------------------------

  CREATE TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" 
   (	"TRANSPORTER_SALES_ID" NUMBER, 
	"TRANSPORTER_ID" NUMBER, 
	"BUYER_ID" NUMBER, 
	"CULTIVATION_ID" NUMBER, 
	"UNIT_PRICE_PER_KG" NUMBER(10,2), 
	"WEIGHT_KG" NUMBER(10,2), 
	"TOTAL_PRICE" NUMBER(10,2) GENERATED ALWAYS AS ("UNIT_PRICE_PER_KG"*"WEIGHT_KG") VIRTUAL , 
	"SALE_DATE" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT SELECT ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" TO "FARMER_ROLE";
  GRANT DELETE ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" TO "TRANSPORTER_ROLE";
  GRANT INSERT ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" TO "TRANSPORTER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" TO "TRANSPORTER_ROLE";
  GRANT UPDATE ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" TO "TRANSPORTER_ROLE";
  GRANT SELECT ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" TO "SELLER_ROLE";
REM INSERTING into SUPPLYCHAINDB.CULTIVATION
SET DEFINE OFF;
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (1,'Tomato');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (2,'Cabbage');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (3,'Carrot');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (4,'Spinach');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (5,'Potato');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (6,'Onion');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (7,'Garlic');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (8,'Cucumber');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (9,'Pumpkin');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (10,'Bell Pepper');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (11,'Zucchini');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (12,'Eggplant');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (13,'Radish');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (14,'Broccoli');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (15,'Cauliflower');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (16,'Kale');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (17,'Lettuce');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (18,'Sweet Corn');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (19,'Asparagus');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (20,'Peas');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (21,'Green Beans');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (22,'Beetroot');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (23,'Turnip');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (24,'Celery');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (25,'Chard');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (26,'Artichoke');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (27,'Fennel');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (28,'Bok Choy');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (29,'Leek');
Insert into SUPPLYCHAINDB.CULTIVATION (CULTIVATION_ID,CULTIVATION_NAME) values (30,'Chili Pepper');
REM INSERTING into SUPPLYCHAINDB.FARMER
SET DEFINE OFF;
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (1,'John','Doe','Green Valley',1,'1234567890','john@example.com','GV001',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (2,'Jane','Smith','Blue Hills',2,'1234567891','jane@example.com','BH002',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (3,'Alice','Johnson','Red Field',3,'1234567892','alice@example.com','RF003',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (4,'Bob','Brown','Yellow Farm',1,'1234567893','bob@example.com','YF004',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (5,'Charlie','Davis','Orange Orchard',2,'1234567894','charlie@example.com','OO005',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (6,'Diana','Garcia','Purple Valley',3,'1234567895','diana@example.com','PV006',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (7,'Eva','Martinez','Silver Lake',1,'1234567896','eva@example.com','SL007',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (8,'Frank','Hernandez','Golden Fields',2,'1234567897','frank@example.com','GF008',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (9,'Grace','Lopez','Emerald City',3,'1234567898','grace@example.com','EC009',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (10,'Henry','Miller','Crystal Lake',1,'1234567899','henry@example.com','CL010',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (11,'Isabel','Martinez','Maple Grove',2,'1234567800','isabel@example.com','MG011',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (12,'Jack','Wilson','Pine Hill',3,'1234567801','jack@example.com','PH012',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (13,'Kim','Anderson','Oak Valley',1,'1234567802','kim@example.com','OV013',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (14,'Liam','Thomas','Cedar Park',2,'1234567803','liam@example.com','CP014',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (15,'Mia','Taylor','Birch Hill',3,'1234567804','mia@example.com','BH015',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (16,'Noah','Moore','Ash Grove',1,'1234567805','noah@example.com','AG016',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (17,'Olivia','Jackson','Willow Creek',2,'1234567806','olivia@example.com','WC017',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (18,'Paul','White','Fir Forest',3,'1234567807','paul@example.com','FF018',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (19,'Quinn','Harris','Redwood Valley',1,'1234567808','quinn@example.com','RV019',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (20,'Rita','Martin','Hickory Hills',2,'1234567809','rita@example.com','HH020',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (21,'Sam','Lee','Peach Orchard',3,'1234567810','sam@example.com','PO021',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (22,'Tina','Garcia','Cherry Blossom',1,'1234567811','tina@example.com','CB022',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (23,'Ursula','Roberts','Tulip Field',2,'1234567812','ursula@example.com','TF023',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (24,'Victor','Clark','Sunflower Patch',3,'1234567813','victor@example.com','SP024',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (25,'Wendy','Lewis','Daisy Garden',1,'1234567814','wendy@example.com','DG025',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (26,'Xander','Walker','Lavender Lane',2,'1234567815','xander@example.com','LL026',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (27,'Yara','Hall','Myrtle Grove',3,'1234567816','yara@example.com','MG027',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (28,'Zane','Adams','Cypress Hill',1,'1234567817','zane@example.com','CH028',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (29,'Ava','Scott','Maple Valley',2,'1234567818','ava@example.com','MV029',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.FARMER (FARMER_ID,FIRST_NAME,LAST_NAME,LOCATION,CULTIVATION_ID,TELEPHONE,EMAIL,GOV_REG_NO,DATE_JOINED) values (30,'Bryan','Nelson','Elm Street',3,'1234567819','bryan@example.com','ES030',to_date('21-OCT-24','DD-MON-RR'));
REM INSERTING into SUPPLYCHAINDB.FARMER_SALES
SET DEFINE OFF;
REM INSERTING into SUPPLYCHAINDB.SELLER
SET DEFINE OFF;
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (1,'Green Grocer','Alice','Smith','New York','123-456-7890','alice@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (2,'Fresh Market','Bob','Johnson','Los Angeles','123-456-7891','bob@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (3,'Farmers Corner','Charlie','Williams','Chicago','123-456-7892','charlie@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (4,'Organic Delights','David','Jones','Houston','123-456-7893','david@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (5,'Healthy Eats','Eva','Brown','Phoenix','123-456-7894','eva@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (6,'Natures Best','Frank','Davis','Philadelphia','123-456-7895','frank@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (7,'The Veggie Stand','Grace','Garcia','San Antonio','123-456-7896','grace@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (8,'Market Fresh','Hank','Martinez','San Diego','123-456-7897','hank@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (9,'Veggie Paradise','Isla','Hernandez','Dallas','123-456-7898','isla@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (10,'Garden Goods','Jake','Lopez','San Jose','123-456-7899','jake@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (11,'Urban Farmers','Kara','Wilson','Austin','123-456-7800','kara@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (12,'The Greenhouse','Liam','Anderson','Columbus','123-456-7801','liam@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (13,'Fruitful Harvest','Mia','Thomas','Fort Worth','123-456-7802','mia@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (14,'Bounty Basket','Noah','Taylor','Charlotte','123-456-7803','noah@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (15,'Natures Basket','Olivia','Moore','Detroit','123-456-7804','olivia@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (16,'Edens Harvest','Paul','Jackson','El Paso','123-456-7805','paul@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (17,'Fresh Finds','Quinn','White','Memphis','123-456-7806','quinn@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (18,'Veggie Express','Rita','Harris','Baltimore','123-456-7807','rita@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (19,'The Green Market','Sam','Clark','Milwaukee','123-456-7808','sam@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (21,'Harvest House','Uma','Robinson','San Francisco','123-456-7810','uma@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (22,'Local Produce','Victor','Walker','Seattle','123-456-7811','victor@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (23,'Farm Fresh','Wendy','Hall','Denver','123-456-7812','wendy@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (24,'The Salad Bar','Xena','Allen','Washington','123-456-7813','xena@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (25,'Root to Table','Yara','Young','Boston','123-456-7814','yara@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (26,'The Organic Spot','Zach','King','Nashville','123-456-7815','zach@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (27,'Green Thumb','Ava','Scott','Baltimore','123-456-7816','ava@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (28,'Harvest Delight','Ben','Adams','Las Vegas','123-456-7817','ben@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (29,'Garden Fresh','Cathy','Mitchell','Portland','123-456-7818','cathy@example.com',to_date('21-OCT-24','DD-MON-RR'));
Insert into SUPPLYCHAINDB.SELLER (SELLER_ID,SHOP_NAME,FIRST_NAME,LAST_NAME,LOCATION,TELEPHONE,EMAIL,DATE_REGISTERED) values (30,'Sunny Groves','Daniel','Perez','Omaha','123-456-7819','daniel@example.com',to_date('21-OCT-24','DD-MON-RR'));
REM INSERTING into SUPPLYCHAINDB.SELLER_SALES
SET DEFINE OFF;
REM INSERTING into SUPPLYCHAINDB.TRANSPORTER
SET DEFINE OFF;
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (1,'George','Smith','XYZ 1234','1234567810','LIC001');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (2,'Hannah','Johnson','XYZ 1235','1234567811','LIC002');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (3,'Ian','Williams','XYZ 1236','1234567812','LIC003');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (4,'Jane','Brown','XYZ 1237','1234567813','LIC004');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (5,'Kyle','Jones','XYZ 1238','1234567814','LIC005');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (6,'Laura','Garcia','XYZ 1239','1234567815','LIC006');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (7,'Mike','Miller','XYZ 1240','1234567816','LIC007');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (8,'Nina','Davis','XYZ 1241','1234567817','LIC008');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (9,'Oscar','Rodriguez','XYZ 1242','1234567818','LIC009');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (10,'Paula','Martinez','XYZ 1243','1234567819','LIC010');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (11,'Quincy','Hernandez','XYZ 1244','1234567800','LIC011');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (12,'Rita','Lopez','XYZ 1245','1234567801','LIC012');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (13,'Steve','Gonzalez','XYZ 1246','1234567802','LIC013');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (14,'Tina','Wilson','XYZ 1247','1234567803','LIC014');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (15,'Uma','Anderson','XYZ 1248','1234567804','LIC015');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (16,'Victor','Thomas','XYZ 1249','1234567805','LIC016');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (17,'Will','Taylor','XYZ 1250','1234567806','LIC017');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (18,'Xena','Moore','XYZ 1251','1234567807','LIC018');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (19,'Yara','Jackson','XYZ 1252','1234567808','LIC019');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (20,'Zach','White','XYZ 1253','1234567809','LIC020');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (21,'Anna','Young','XYZ 1254','1234567810','LIC021');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (22,'Brett','King','XYZ 1255','1234567811','LIC022');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (23,'Cathy','Scott','XYZ 1256','1234567812','LIC023');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (24,'Derek','Green','XYZ 1257','1234567813','LIC024');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (25,'Ella','Adams','XYZ 1258','1234567814','LIC025');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (26,'Fiona','Baker','XYZ 1259','1234567815','LIC026');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (27,'Gina','Clark','XYZ 1260','1234567816','LIC027');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (28,'Hank','Rodgers','XYZ 1261','1234567817','LIC028');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (29,'Isla','Fisher','XYZ 1262','1234567818','LIC029');
Insert into SUPPLYCHAINDB.TRANSPORTER (TRANSPORTER_ID,FIRST_NAME,LAST_NAME,VEHICLE_NO,TELEPHONE,LICENSE_NO) values (30,'Jake','Sullivan','XYZ 1263','1234567819','LIC030');
REM INSERTING into SUPPLYCHAINDB.TRANSPORTER_SALES
SET DEFINE OFF;
--------------------------------------------------------
--  DDL for Index SYS_C008271
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008271" ON "SUPPLYCHAINDB"."CULTIVATION" ("CULTIVATION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008277
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008277" ON "SUPPLYCHAINDB"."FARMER" ("FARMER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008278
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008278" ON "SUPPLYCHAINDB"."FARMER" ("GOV_REG_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008289
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008289" ON "SUPPLYCHAINDB"."FARMER_SALES" ("FARMER_SALES_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008311
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008311" ON "SUPPLYCHAINDB"."SELLER" ("SELLER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008318
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008318" ON "SUPPLYCHAINDB"."SELLER_SALES" ("SELLER_SALES_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008296
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008296" ON "SUPPLYCHAINDB"."TRANSPORTER" ("TRANSPORTER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008297
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008297" ON "SUPPLYCHAINDB"."TRANSPORTER" ("VEHICLE_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008305
--------------------------------------------------------

  CREATE UNIQUE INDEX "SUPPLYCHAINDB"."SYS_C008305" ON "SUPPLYCHAINDB"."TRANSPORTER_SALES" ("TRANSPORTER_SALES_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  
  
  --------------------------------------------------------
--  Constraints for Table CULTIVATION
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."CULTIVATION" MODIFY ("CULTIVATION_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."CULTIVATION" ADD CHECK (LENGTH(cultivation_name) > 2) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."CULTIVATION" ADD PRIMARY KEY ("CULTIVATION_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table FARMER
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."FARMER" MODIFY ("FIRST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER" MODIFY ("LAST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER" MODIFY ("LOCATION" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER" MODIFY ("CULTIVATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER" ADD CHECK (gov_reg_no IS NOT NULL) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."FARMER" ADD PRIMARY KEY ("FARMER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."FARMER" ADD UNIQUE ("GOV_REG_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table FARMER_SALES
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" MODIFY ("FARMER_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" MODIFY ("BUYER_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" MODIFY ("BUYER_TYPE" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" MODIFY ("CULTIVATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" MODIFY ("UNIT_PRICE_PER_KG" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" MODIFY ("WEIGHT_KG" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" ADD CHECK (buyer_type IN ('Transporter', 'OtherBuyer')) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" ADD CHECK (unit_price_per_kg > 0) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" ADD CHECK (weight_kg > 0) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" ADD PRIMARY KEY ("FARMER_SALES_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table SELLER
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."SELLER" MODIFY ("SHOP_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER" MODIFY ("FIRST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER" MODIFY ("LAST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER" ADD PRIMARY KEY ("SELLER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table SELLER_SALES
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" MODIFY ("SELLER_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" MODIFY ("CULTIVATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" MODIFY ("UNIT_PRICE_PER_KG" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" MODIFY ("WEIGHT_KG" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" ADD CHECK (unit_price_per_kg > 0) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" ADD CHECK (weight_kg > 0) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" ADD PRIMARY KEY ("SELLER_SALES_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TRANSPORTER
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER" MODIFY ("FIRST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER" MODIFY ("LAST_NAME" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER" MODIFY ("VEHICLE_NO" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER" MODIFY ("LICENSE_NO" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER" ADD PRIMARY KEY ("TRANSPORTER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER" ADD UNIQUE ("VEHICLE_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TRANSPORTER_SALES
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" MODIFY ("TRANSPORTER_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" MODIFY ("BUYER_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" MODIFY ("CULTIVATION_ID" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" MODIFY ("UNIT_PRICE_PER_KG" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" MODIFY ("WEIGHT_KG" NOT NULL ENABLE);
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" ADD CHECK (unit_price_per_kg > 0) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" ADD CHECK (weight_kg > 0) ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" ADD PRIMARY KEY ("TRANSPORTER_SALES_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table FARMER
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."FARMER" ADD FOREIGN KEY ("CULTIVATION_ID")
	  REFERENCES "SUPPLYCHAINDB"."CULTIVATION" ("CULTIVATION_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table FARMER_SALES
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" ADD FOREIGN KEY ("FARMER_ID")
	  REFERENCES "SUPPLYCHAINDB"."FARMER" ("FARMER_ID") ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."FARMER_SALES" ADD FOREIGN KEY ("CULTIVATION_ID")
	  REFERENCES "SUPPLYCHAINDB"."CULTIVATION" ("CULTIVATION_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SELLER_SALES
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" ADD FOREIGN KEY ("SELLER_ID")
	  REFERENCES "SUPPLYCHAINDB"."SELLER" ("SELLER_ID") ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."SELLER_SALES" ADD FOREIGN KEY ("CULTIVATION_ID")
	  REFERENCES "SUPPLYCHAINDB"."CULTIVATION" ("CULTIVATION_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TRANSPORTER_SALES
--------------------------------------------------------

  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" ADD FOREIGN KEY ("TRANSPORTER_ID")
	  REFERENCES "SUPPLYCHAINDB"."TRANSPORTER" ("TRANSPORTER_ID") ENABLE;
  ALTER TABLE "SUPPLYCHAINDB"."TRANSPORTER_SALES" ADD FOREIGN KEY ("CULTIVATION_ID")
	  REFERENCES "SUPPLYCHAINDB"."CULTIVATION" ("CULTIVATION_ID") ENABLE;

  
  
  
  
  
--------------------------------------------------------
--  DDL for Trigger TRG_BEFORE_INSERT_FARMER
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SUPPLYCHAINDB"."TRG_BEFORE_INSERT_FARMER" 
BEFORE INSERT ON Farmer
FOR EACH ROW
BEGIN
    IF :NEW.telephone IS NOT NULL AND LENGTH(:NEW.telephone) < 10 THEN
        RAISE_APPLICATION_ERROR(-20001, 'Invalid telephone number. Must be at least 10 digits.');
    END IF;
END;
/
ALTER TRIGGER "SUPPLYCHAINDB"."TRG_BEFORE_INSERT_FARMER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_BEFORE_INSERT_FARMER
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SUPPLYCHAINDB"."TRG_BEFORE_INSERT_FARMER" 
BEFORE INSERT ON Farmer
FOR EACH ROW
BEGIN
    IF :NEW.telephone IS NOT NULL AND LENGTH(:NEW.telephone) < 10 THEN
        RAISE_APPLICATION_ERROR(-20001, 'Invalid telephone number. Must be at least 10 digits.');
    END IF;
END;
/
ALTER TRIGGER "SUPPLYCHAINDB"."TRG_BEFORE_INSERT_FARMER" ENABLE;
--------------------------------------------------------
--  DDL for Procedure AVERAGE_PRICE_PER_CULTIVATION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "SUPPLYCHAINDB"."AVERAGE_PRICE_PER_CULTIVATION" 
IS
BEGIN
    FOR rec IN (
        SELECT c.cultivation_name,
               AVG(fs.unit_price_per_kg) AS avg_price_per_kg,
               COUNT(fs.farmer_sales_id) AS number_of_sales
        FROM Farmer_Sales fs
        JOIN Cultivation c ON fs.cultivation_id = c.cultivation_id
        WHERE fs.sale_date >= SYSDATE - 30
        GROUP BY c.cultivation_name
        HAVING COUNT(fs.farmer_sales_id) > 0
        ORDER BY avg_price_per_kg DESC
    )
    LOOP
        DBMS_OUTPUT.PUT_LINE('Cultivation: ' || rec.cultivation_name || 
                             ', Average Price per KG: ' || rec.avg_price_per_kg || 
                             ', Number of Sales: ' || rec.number_of_sales);
    END LOOP;
END;


/
--------------------------------------------------------
--  DDL for Procedure AVG_TRANSPORTER_PROFIT_BY_CULTIVATION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "SUPPLYCHAINDB"."AVG_TRANSPORTER_PROFIT_BY_CULTIVATION" 
IS
BEGIN
    FOR rec IN (
        SELECT c.cultivation_name,
               (SUM(ts.unit_price_per_kg * ts.weight_kg) - 
                SUM(fs.total_price)) / NULLIF(COUNT(DISTINCT ts.transporter_id), 0) AS avg_profit
        FROM Transporter_Sales ts
        JOIN Cultivation c ON ts.cultivation_id = c.cultivation_id
        LEFT JOIN Farmer_Sales fs ON fs.cultivation_id = c.cultivation_id
        WHERE ts.sale_date >= SYSDATE - 30
        GROUP BY c.cultivation_name
        HAVING COUNT(DISTINCT ts.transporter_id) > 0
        ORDER BY avg_profit DESC
    )
    LOOP
        DBMS_OUTPUT.PUT_LINE('Cultivation: ' || rec.cultivation_name || 
                             ', Average Profit: ' || rec.avg_profit);
    END LOOP;
END;


/
--------------------------------------------------------
--  DDL for Procedure GET_FARMERS_BY_LOCATION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "SUPPLYCHAINDB"."GET_FARMERS_BY_LOCATION" (p_location IN VARCHAR2)
IS
    v_count NUMBER := 0;
BEGIN
    FOR rec IN (SELECT farmer_id,
                       first_name,
                       last_name,
                       location,
                       telephone,
                       gov_reg_no,
                       date_joined
                FROM Farmer
                WHERE location = p_location)
    LOOP
        -- Increment the count for each record found
        v_count := v_count + 1;

        -- Display farmer details
        DBMS_OUTPUT.PUT_LINE('Farmer ID: ' || rec.farmer_id || 
                             ', Name: ' || rec.first_name || ' ' || rec.last_name || 
                             ', Location: ' || rec.location || 
                             ', Telephone: ' || rec.telephone);
    END LOOP;

    -- Check if no farmers were found
    IF v_count = 0 THEN
        DBMS_OUTPUT.PUT_LINE('No Farmers in That Location');
    END IF;
END;


/
--------------------------------------------------------
--  DDL for Procedure TOP_10_CULTIVATIONS_BY_SALES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "SUPPLYCHAINDB"."TOP_10_CULTIVATIONS_BY_SALES" 
IS
BEGIN
    FOR rec IN (SELECT c.cultivation_name,
                       SUM(fs.total_price) AS total_sales
                FROM Cultivation c
                JOIN Seller_Sales fs ON c.cultivation_id = fs.cultivation_id
                WHERE fs.sale_date >= SYSDATE - 30
                GROUP BY c.cultivation_name
                ORDER BY total_sales DESC
                FETCH FIRST 10 ROWS ONLY) 
    LOOP
        DBMS_OUTPUT.PUT_LINE('Cultivation: ' || rec.cultivation_name || ', Total Sales: ' || rec.total_sales);
    END LOOP;
END;


/
--------------------------------------------------------
--  DDL for Procedure TOP_10_FARMERS_BY_SALES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "SUPPLYCHAINDB"."TOP_10_FARMERS_BY_SALES" 
IS
BEGIN
    FOR rec IN (SELECT f.first_name || ' ' || f.last_name AS farmer_name, SUM(fs.total_price) AS total_sales
                FROM Farmer f
                JOIN Farmer_Sales fs ON f.farmer_id = fs.farmer_id
                GROUP BY f.first_name, f.last_name
                ORDER BY total_sales DESC
                FETCH FIRST 10 ROWS ONLY) 
    LOOP
        DBMS_OUTPUT.PUT_LINE('Farmer Name: ' || rec.farmer_name || ', Total Sales: ' || rec.total_sales);
    END LOOP;
END;


/
--------------------------------------------------------
--  DDL for Function GET_TOTAL_FARMER_SALES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "SUPPLYCHAINDB"."GET_TOTAL_FARMER_SALES" (farmer_id_in NUMBER)
RETURN NUMBER
IS
    total_sales NUMBER;
BEGIN
    SELECT SUM(total_price)
    INTO total_sales
    FROM Farmer_Sales
    WHERE farmer_id = farmer_id_in;

    RETURN NVL(total_sales, 0);  -- Return 0 if no sales found
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RETURN 0;
END;

/
